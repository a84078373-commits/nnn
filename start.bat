@echo off
chcp 65001 >nul
title ูุธุงู ุชุนูู ูุบุฉ ุงูุฅุดุงุฑุฉ

echo ====================================
echo ๐ ุจุฏุก ุชุดุบูู ูุธุงู ุชุนูู ูุบุฉ ุงูุฅุดุงุฑุฉ
echo ====================================
echo.

REM ุงูุชุญูู ูู ุชุซุจูุช Python
python --version >nul 2>&1
if errorlevel 1 (
    echo โ ุฎุทุฃ: Python ุบูุฑ ูุซุจุช!
    echo ูุฑุฌู ุชุซุจูุช Python ุฃููุงู
    pause
    exit /b 1
)

REM ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงููุดุฑูุน
cd /d "%~dp0"

REM ุงูุชุญูู ูู ูุฌูุฏ ุงููููุงุช ุงููุทููุจุฉ
if not exist "app.py" (
    echo โ ุฎุทุฃ: ููู app.py ุบูุฑ ููุฌูุฏ!
    pause
    exit /b 1
)

if not exist "requirements.txt" (
    echo โ ุฎุทุฃ: ููู requirements.txt ุบูุฑ ููุฌูุฏ!
    pause
    exit /b 1
)

echo ๐ฆ ุงูุชุญูู ูู ุชุซุจูุช ุงูููุชุจุงุช...
python -c "import flask" >nul 2>&1
if errorlevel 1 (
    echo โ๏ธ  ุงูููุชุจุงุช ุบูุฑ ูุซุจุชุฉ. ุฌุงุฑู ุงูุชุซุจูุช...
    pip install -r requirements.txt
    if errorlevel 1 (
        echo โ ูุดู ุชุซุจูุช ุงูููุชุจุงุช!
        pause
        exit /b 1
    )
    echo โ ุชู ุชุซุจูุช ุงูููุชุจุงุช ุจูุฌุงุญ!
    echo.
)

echo ๐ ุฌุงุฑู ุชุดุบูู ุงูุฎุงุฏู...
echo.
echo โณ ุงูุชุธุฑ ููููุงู ุญุชู ูุจุฏุฃ ุงูุฎุงุฏู...
echo.
echo ๐ ุณูุชู ูุชุญ ุงููุชุตูุญ ุชููุงุฆูุงู ุนูู: http://localhost:5000
echo.
echo โ๏ธ  ุงุถุบุท CTRL+C ูุฅููุงู ุงูุฎุงุฏู
echo.

REM ูุชุญ ุงููุชุตูุญ ุจุนุฏ 3 ุซูุงู
timeout /t 3 /nobreak >nul
start http://localhost:5000

REM ุชุดุบูู ุงูุชุทุจูู
python app.py

REM ุฅุฐุง ุชู ุฅููุงู ุงูุชุทุจูู
echo.
echo ====================================
echo โ ุชู ุฅููุงู ุงูุฎุงุฏู
echo ====================================
pause

